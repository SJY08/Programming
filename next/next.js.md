## 왜 사용하는가 ?

**_Next.js를 사용하는 이유는 Next.js가 제공하는 많은 기능들 때문_**

-   코드 분할
-   서버 사이드 렌더링
-   파일 기반 라우팅
-   경로 기반 프리페칭
-   이 외에도 **정적 사이트**, **증분 정적 콘텐츠 생성**, **타입스크립트 지원**, **자동 폴리필**, **이미지 최적화**, **웹 애플리케이션 국제화**, **성능 분석** 등이 있습니다

<br/>
<br/>

## 렌더링 전략

-   렌더링 전략이란 ? 웹 또는 앱 브라우저에 제공하는 방법을 의미

**next js 에서는 어떤 페이지를 빌드 시점에 정적으로 생성하고 어떤 페이지를 실행 시점에 동적으로 제공할 것인지 쉽게 정할 수 있음**

> 서버 사이드 렌더링 ( Server Side Rendering, SSR )

-   **SSR**이란? 서버 측에서 페이지를 렌더링 하는 방식

> SSR의 장점

-   **빠른 페이지 렌더링**
    -   클라이언트 사이드 렌더리(Client Side Rendering, CSR)보다 속도가 빠르다
-   **검색엔진최적화 (Search Engine Optimization, SEO)**
    -   SNS에서 링크를 공유 했을 때, 해당 웹의 정보를 이미지와 설명으로 표시 해주는 **OG(Open Graph) Tag**를 페이지 별로 적용하여 SEO 최적화 가능

**동작과정**
![image](https://velog.velcdn.com/images/rl0425/post/e100da76-ee04-4638-a439-35cbfc9c4ffe/image.png)

> 클라이언트 사이드 렌더링 ( Client Side Rendering, CSR)

-   **CSR**이란? 서버가 클라이언트에 필요한 스크립트와 스타일이 포함된 HTML 마크업만 전송해, 클라이언트에서 렌더링이 이뤄지는 방식

> CSR의 장점

-   **쉬운 페이지 전환**
    -   화면을 새로 고칠 필요 없이 다른 페이지로 이동 가능
-   **지연된 로딩(lazy loading)과 성능**
    -   최소로 필요한 HTML 마크업만 렌더링
-   **서버 부하 감소**
    -   전체 렌더링 과정이 클라이언트에서 일어나기에 서버가 할 일은 HTML 페이지 전송뿐
    -   서버리스 환경에서 웹 앱 제공 가능

> React.useEffect 훅

-   최근 리액트에서는 함수형 컴포넌트 사용을 강조
-   componentDidMount 대신 React.useEffect 훅을 사용해도 똑같은 기능 구현 가능

<br/>

-   **React.useEffect 훅을 사용하면 ?**
-   함수형 컴포넌트 형에서 DOM 조작이나 데이터 불러오기 같은 사이드 이펙트 기능을 구현하면 useEffect 함수를 사용해 컴포넌트가 마운트 된 후 해당 기능을 실행하도록 하는게 가능
-   즉, Next.js가 useEffect를 리액트 하이드레이션 이후 브라우저에서 실행할 수 있도록 만들어야함

> process.browser 변수

-   서버에서 렌더링할 때 **process.browser 값에 따라서 스크립트와 컴포넌트를 조건별로 실행**하면 브라우저 전용 API로 인한 문제를 해결 가능
-   해당 변수는 boolean 값으로 **클라이언트에서 실행 시 true, 서버에서 실행 시 false**를 가짐

> 동적 컴포넌트 로딩

-   Next.js는 리액트에서 제공하지 않는 기능을 내장 컴포넌트와 유틸리티 함수 형태로 제공
-   이 중 하나가 **dynamic 함수**

#### dynamic 함수 실행 시

-   컴포넌트를 동적 임포트로 불러옴
-   즉, ssr:false 옵션으로 클라이언트에서만 코드 실행을 명시
